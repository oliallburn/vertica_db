## Задание: 
Проектирование витрины в DWH.

## СУБД: 
Vertica

## Датасет: 
Музыкальные предпочтения 

## Задача: 
Можно использовать DBT Definition of Done. Если используете dbt – готовый проект на github, иначе DDL объектов + DML шагов преобразований. Слои stage/core/marts. Использовать Data Vault 2.0 (опционально)

## Решение: 
В этот раз постановка домашнего задания была очень обтекаемой, но и срок меньше, чем обычно. Но задание сонаправлено моим интересам, поэтому хотелось бы углубиться в него на курсовой работе.

Для задания использовался стандартный датасет с музыкальными данными в некотором плейлисте. Ожидается на выходе две витрины
* Топ-5 самых слушабельных музыкальных жанров
* Топ-20 самых слушабельных музыкальных групп

На вход поступают следующие таблицы:
* PlaylistTrack - информация о прослушаных треках
* Playlist - к какой музыкальнйо подборке относится трек
* Track - информация о треке
* Artist - перечень групп и исполнителей
* Album - перечень альбомов
* Genre - перечень жанров

## Разворачивание базы:
Качаем докер с Vertica, поднимаем его и засовываем в него папку с входными данными:

```docker pull dataplatform/docker-vertica

docker run -p 5433:5433 -d -v /home/olibu/spark/vertica_db/data:/tmp/data dataplatform/docker-vertica
```
Затем устанавливаем DBeaver (прост из менеджера приложений ubuntu, он мне нужен был как раз :Ъ) и стакаем их с Vertica.

## Витрина:
Далее выполняем наши SQL-шаги и получаем финальные витрины.



 
